{% extends 'base.html' %}

{% load static %}

{% block content %}

<div id="buttonsectionwrapper" class="d-flex flex-row my-2">
    <div>
        <a href="{% url 'preference_create' %}" id="showModalNewPreference" class="btn btn-success mx-2">
            <i class="fa-solid fa-sheet-plastic"></i> Add new preference
        </a>
    </div>
    <div>
        <button type="button" id="checkDefaultPreferences" class="btn btn-outline-secondary mx-2">
            <i class="fa-solid fa-check-to-slot"></i> Check default preferencies
        </button>
    </div>
        <div>
        <button type="button" id="resetToDefaultPreferences" class="btn btn-outline-danger mx-2">
            <i class="fa-solid fa-recycle"></i> Reset to defaults
        </button>
    </div>
</div>


<div class="d-flex my-2">
    <h2 class="mx-auto">Preferences</h2>
</div>


<div id="prefstablewrapper" class="col col-10 mx-auto">
    <div class="table-responsive">
        <table id="prefstable" class="table table-striped table-bordered table-sm">
            <thead>
            <th class="text-center col col-1"><h5></h5></th>
            <th class="text-center col "><h5>Parameter</h5></th>
            <th class="text-center col "><h5>Value</h5></th>
            <th class="text-center col "><h5>Default value</h5></th>
            <th class="text-center col "><h5>Description</h5></th>
            </thead>
            <tbody>
            {% for preference in preferences %}
            <tr>
                <td class="d-flex justify-content-evenly">
                    <a href="{{ preference.get_update_url }}" class="btn btn-outline-success">
                        <i class="fa-solid fa-pencil"></i>
                    </a>
                    <a href="{{ preference.get_delete_url }}" class="btn btn-outline-danger">
                        <i class="fa-solid fa-trash"></i>
                    </a>
                </td>
                <td><span class="fw-bold">{{ preference.name }}</span></td>
                <td>
                    {% if preference.value|length > 40 %}
                    {{ preference.value|truncatechars:40 }}
                    {% else %}
                    {{ preference.value }}
                    {% endif %}
                </td>
                <td>
                    {% if preference.default_value|length > 40 %}
                    {{ preference.default_value|truncatechars:40 }}
                    {% else %}
                    {{ preference.default_value }}
                    {% endif %}
                </td>
                <td>{{ preference.description }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}